<template>
  <div class="svg_container relative">
    <svg id="full_svg" class="relative z-20 mix-blend-multiply" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 169.333 211.667">
      <path
        id="left_jacket"
        d="m69.872 86.838-3.307 3.74-.479.136-.479.206-.82.182-.48.114s-.57.182-.707.228c-.137.046-.98.297-.98.297l-.616.16-.684.159-1.778.342-1.756.433s-.913.342-1.004.342c-.091 0-1.801.548-1.801.548l-2.19.866-2.782 1.186-.775.388-.32.479.025 2.33-.161.581-.307.29-.048.274-.145.242-.194.403-.241.742-.146.258.065 3.951.177.403v2.677l-.322.516-.226.403-.274.483-.194.517-.193.435-.113.403-.064.548-.016.161-.146.081-.032 4.241.145.161.065.387.112.355.21.178-.016.902-.161.516-.08.5-.162.516-.13.613-.45 1.193-.21.613-.194.258-.258.436-.145.547-.161.323-.08.37-.017.323-.048 3.919-.032.5-.194.387-.064 1.048v.483l-.259.517v.66s.05.63.017.694c-.032.065-.387.435-.387.435l-.307.5-.193.661-.178.855.114.758.16.516.21.419.097.58.145.436.145.613.177.693.597 2.08 1.306 2.403.21.5s.258.483.258.548c0 .064.048.5.048.5v.451l.081.404.29.258.387.45.113.307.242.34.258.16.274.145.29.242.13.37.21.388.273.403.355.5.258.5s.21.338.29.42c.08.08.532.547.532.547l.79.903s.565.694.581.758c.016.065 1.79 2 1.79 2l.08.339-.016.354.08.258.275.355-.79 3.564-.58 3.95-.726 3.79-.065 1.08.097.258.613.355 1.016.403 1.564.757 1.709.79 1.21.468.757.307.742.21 3.806.015.177-.112.016-.42.161-.161.355-.193v-1.758l.242-.178.032-2.273.08-.371.033-.435.032-.484.129-.339.194-.354v-.307l.242-.242-.146-.403-1.322-1.306-.967-1.258-.404-.387-.564-.032-.693-.145-.613-.258-.484-.338-.596-1-.339-.807.145-.838.42-.758.387-.693 1.096-1.194.903-.886.742-.549.5-.483.403-.21.58-.145.629-.065.532.194.451.274.259.242.064.322.065.177 1.58.113.806-4.45s.161.032.032-.161c-.129-.194-.42-.452-.42-.452l-.224-.322.032-.387.257-.226.613-.29.258-.29 1.71-8.353 1.112-1.016 1.306-1.597 1.307-1.531.709-.903.964-2.25 1.095-3.922-1.914-12.388-1.741-10.127-.387-1.644-.162-.742-.387-.58-.16-.388-.162-.87.129-.936-.742-1.999-.193-1.064-.033-.258-.451.58-.162.226-.096.226-.162.355-.096.193-.097.226-.161.387-.097.258-.032.032-.161.097-.194-1.58v-.678l-.29-2.225-.161-1.355-.29-2.773v-.806l.064-.968.096-.838.355-1.064zM57.01 125.422l1.642 4.287.547 2.463-.182 3.65-.274 2.097-.273 1.824-1.095 3.01-.73-.547-.547-.82-.091-.822-.274-.73-.912-1.641-.092-2.007.183-1.733.183-1.46v-1.915l.73-1.824z" 
        :style="`fill: ${propColor.jacket};`"
      />
      <path 
        id="right_jacket"
        d="m88.07 91.444 1.664.41 1.209.366 1.231.342s1.414.479 1.505.479c.091 0 1.46.364 1.46.364l.66.48.799.911.524.844.639 1.596.25 1.506.115 1.3.365.82.387 1.369.548 2.234.296.98.023.822-.205 4.264.25.41.89.844.388.821.273.867-.023.867v.957l1.072 2.258.935 2.554.525 1.482.25 1.368.206.48 1.003 1.527.525 1.004.479 1.117s.934 1.62.934 1.756c0 .137.343.661.343.661l.068.365.046.41.068.343s.456.707.479.798c.023.091 1.756 2.052 1.756 2.052l.89 1.323.934 1.778 1.642 2.372 3.375 4.971 5.154 6.522 5.86 7.457.154.29.088.162.008.233-.04.121-.113.202-.089.25.025-.403.016-.186-.065-.161-.12-.024h-.138l-.234.024-.145.048-.145.09-.153.104-.25.193-.218.145-.104.146-.146.12-1.378 1.307-1.113 1.217-1.358 1.458-.114.274.09.388.138.25-.069.137-1.277 1.095-.319.16-.023-.274-.342-.114-4.926-5.93-4.95-6.16-.516-.741-.161-.516-.37-.436-1.323-1.29-1.5-1.58-2.402-2.693-2.629-3.24-1.29-1.597v.951l.033.613.08.258.065 1.097.113.29.08 1.483 1.08 6.789.065.387.08.37.114.581.016.742.177.339.064 1.709.21.258-.032 1.838.129.258.113.258s-.016.387-.016.484c0 .097.032.596.032.66 0 .065-.016.469-.016.469l.145.16.065.71.064.71v.387l.145.419.145.387-.032.5.097.435.37 2.58v.5l.21.355-.032.597.032.322.194.177.032.484.032.403.162.21-.033.887.016 1.016-1.709.16-.322-.064-.452-.145-.403-.161-.629-.177-.613-.29-.725-.275-.694-.306-1.032-.677-.338-.484-.226-.307.042-2.784.103-1.813.011-2.486.023-2.44-.08-.296-.08-.206-.08-.308v-3.397l-.102-1.904-.068-1.688-.206-.228-.136-.479.09-3.945-.022-1.026-.228-.183v-1.3l.023-.866-.228-.091-.023-.433.023-.593-.069-.32.023-1.14-.023-.866-.114-.342-.182-.41.068-.8-.114-.478-.342-.433-.023-2.303-.182-.41s-.137-.024-.114-.16c.023-.137.046-1.802.046-1.802l-.023-.958-.205-.707-.251-.912-.114-.638-.251-.958-.342-1.346-.16-.752-.273-.89s-.137-.752-.137-.843c0-.091-.228-.707-.228-.707s-.092-.57-.114-.662c-.023-.09-.137-.684-.137-.684l-.16-.41-.114-.297-.25-1.14-.16-.798-.206-.57-.182-.32-.023-.57-.068-.433-.046-.479-.205-.524-.137-.32-.045-.113-.046-.707-.114-.616-1.004-4.355-1.163-3.58-1.254-4.493-.73-1.62-.09-.615.022-.433.137-.707v-.342l-.342-.73-.25-.114-.411-.433.045-.365.183-.342.114-.274-.137-.342.273-.365.434-.41.365-.433.182-.48.068-.341.023-.342-.16-.251-.501-.228-.25-.137h-.411l-.114.228-.206.045-.068-.296-.091-.388.547-.501.57-.57.297-.297.25-.228.183-.342.045-.182v-.137l.092-.114z" 
        :style="`fill: ${propColor.jacket};`"
      />
      <path 
        id="inner_shirt"
        d="m69.86 86.86-.091.457-.365 1.094-.16 1.756v.901l.536 4.8.206 1.483v.73l.205 1.573.194-.126.433-1.094.262-.559.627-.832.24 1.38.74 1.972-.136.923.171.878.137.354.433.65.536 2.383 2.03 11.8.308 2.167.775 5.006.547 3.546-1.106 3.922-.966 2.28-3.338 4.015-1.096 1.032-.29 1.677 2.87.13 1.129.096h2.257l1.29-.064 1.71.29 2.386.258 2.805.42 1.645.16 3.725-.272 1.574.046 1.368-.182.525-.297.478-.479.342-.365.343-.501.068-.114V139.584l.046-.274h.228l.182.228.182.182.04.029.08-.77-.114-.467-.375-.467v-2.29l-.17-.386-.08-.065-.065-.08.032-.073.053-1.75-.028-.971-.46-1.629-.113-.637-.613-2.398-.137-.645-.282-.932-.133-.81.004-.032-.238-.698-.028-.197-.032-.234-.049-.205-.06-.29-.069-.388-.282-.721-.367-1.718-.032-.19-.17-.475-.027-.113-.202-.33-.012-.573-.077-.455-.044-.448-.395-.975-.036-.7-.353-1.545-.781-3.438-1.169-3.597-1.072-3.86-.165-.581-.747-1.642-.085-.639.023-.421.142-.696v-.353l-.33-.69-.269-.126-.41-.444.057-.377.177-.336.114-.268-.148-.348.307-.399.456-.422.325-.399.177-.473.069-.342.022-.342-.154-.234-.735-.347-.41.005-.12.241-.226.04-.178-.733-1.548 1.588-.967.871-.194.29v.936l.032.419.226.387-.064 1.387.161 1.032.322.58.162.903-.065.548v.355l.13.355.29.355.096.483.065.678 1.806 1.741.387.13.322.257.323.87.064.646.258.129.065.451v.387l.16.29.033 1.162.161.354.258.484v.839l-.129.451-.16 1.161-.194.452-.549.451v.71l-.16.451-.388.935-.387.548-.097.065-.645-1.903-.419-1.16-.387-.84-.097-.709-.58-1.193-.032-.355-1.161-1.29-.387-.516-.516-.838-.258-.871-.162-.613-.645-.677-.322-1.129-.452-1.032-.774-1.225-.935-1.226-.677-.58-1.129-.677-1.128-.807-1.194-.741.033-.936-.194-.032v-.322l-.161-.258-.161-.162-.13-.387-.128-.258.064-.548-.226-.161v-.258l-.193-.323-2.354-3.144-.34-.37-.257-.5-.242-.694s-.161-.435-.161-.516c0-.08-.161-1.016-.161-1.016l-.033-1.338.145-.758.033-.403z" 
        :style="`fill: ${propColor.shirt};`"
      />
      <path 
        id="trouser"
        d="m63.613 172.295.169-.121.008-.412.153-.137.38-.233v-1.742l.233-.193.07-2.349.092-.32.046-.911.296-.616.046-.342.182-.114.046.182 1.915 1.642.046-1.322.342-.206s-.023-.752 0-.843c.023-.092.205-.434.205-.434l.16-.547.114-.593.25-.365.206-.524s.068-.297.091-.388c.023-.091.137-.41.137-.41l.89-2.258.5-1.55.343-1.027s-.023-.524.068-.547c.092-.023.183-.639.183-.639l.091-.319v-.25l-.023-.183H67.98l.775-4.379.114-.16-.707-.82v-.388l.274-.273.593-.251.296-.365 1.279-6.543 1.266.052 1.72.083 1.049.091.342.023 2.075-.023 1.209-.057 1.744.297 2.36.262 2.874.422 1.573.16 3.74-.274 1.619.057 1.323-.194.513-.33.81-.81.421-.627.023 1.584-.068.49v.594l.011 1.083v.308l-.262.216-.171.137v.33c0 .058-.023.206-.023.252v.456l.114.205.114.114.137.342.045.593-.022.296-.32.069v.205l.16.182.296.251.137.41.023.343-.023.25.069.297.205.205.182.206.114.319-.022.661.022.16.183.296.137.274.16.228.09.32.114.387-.078.527.065.516.16.323.098.387.12.174.069 1.893-.149.501-.022.24.022.604.023.25-.125.126-.023.388-.114 1.984-.16.524V161.954l.228.365v.844l.137.479.183.296-.023 2.28-.388.366v.684l-.25.456-.023.32-.046.432v.274s.137.091.182.25c.046.16 0 .503 0 .594 0 .091-.273.57-.273.57l.137 1.14-1.78 10.399-2.28 5.61-2.782 11.265-.09.866-.275 1.825-.41 1.778-.95 1.223-.13.71v.806l.13.613.16.903.033 1.032-.032.935v.935l-.065 1.451H70.401l.065-.354.29-.807.452-.838.322-.484.484-.548.064-1.322-.354-1.161-.258-1.355.129-1.225v-1.29s.064-1.032-.13-1.29c-.193-.258-.773-2.774-.773-2.774l-1.484-3.547-3.096-8.514-1.032-4.902-.645-3.354s-.774-2.71-.774-2.967c0-.258-.048-2.628-.048-2.628z" 
        :style="`fill: ${propColor.trousers};`"
      />
    </svg>
    <img id="image" class="absolute top-0 w-full" src="~/assets/img/white_suit_1.jpg" alt="">

    <!-- Random button -->
    <button @click="generateRandom" class="absolute z-30 right-0 top-0 text-center text-xs px-2 py-1 mt-1 mr-1 bg-gray-500 dark:bg-gray-800 rounded-sm cursor-pointer transition-all">
      Randomize
    </button>

    <!-- Image controls buttons -->
    <ImageControls class="absolute bottom-0 z-30 ml-1 mb-1" @updateSuitSection="updateSuitSection" />
  </div>
</template>

<script setup lang="ts">
import { shirtColors, suitColors } from "~/types/enums";
import { selectionInterface } from "~/types/interfaces";
interface Props {
  propColor?: {
    jacket?: suitColors
    shirt?: shirtColors
    trousers?: suitColors
  }
}
const props = withDefaults(defineProps<Props>(), {
  propColor: () => ({
    jacket: suitColors.BLACK,
    shirt: shirtColors.WHITE,
    trousers: suitColors.BLACK
  })
})

const emit = defineEmits(['emitGenerateRandom', 'updateSuitSelectionForwarded'])

const updateSuitSection = (payload: selectionInterface) => {
  emit('updateSuitSelectionForwarded', payload)
}

const generateRandom = () => {
  emit('emitGenerateRandom')
}
</script>

<style scoped>

</style>